<div class="m-4">
  <mat-card>
    <mat-card-content>
      <div class="m-3">
        <h1>Control de garantía de clientes</h1>
      </div>
      <mat-tab-group>
        <mat-tab label="Por cedula">
          <div class="d-flex justify-content-center">
            <div class="container m-3">
              
              <div class="overlay" *ngIf="mostrarSpinner">
                <div class="spinner-container">
                  <div class="spinner-border text-primary" role="status">
                    <!-- <span class="sr-only">Loading...</span> -->
                  </div>
                </div>
              </div>
              <form class="row g-3 was-validated" #form="ngForm" (ngSubmit)="buscarPorCedula()">
                <div class="form-group col-lg-4 col-md-6  col-sm-12">
                  <label for="cedula">Cédula:</label>
                  <input type="text" class="form-control" id="cedula" name="cedula" [(ngModel)]="cedula" (keypress)="soloNumeros($event)" maxlength="10" required>
                  <!-- <div *ngIf="!isValidCedula(cedula)" class="text-danger">Por favor ingrese una cédula válida.</div> -->
                </div>
                <div class="col-lg-4 col-md-2 col-sm-12 d-flex align-items-end">
                  <button type="submit" class="btn btn-primary d-flex cargandoDatos" [disabled]="!isValidCedula(cedula)">
                  <mat-icon>search</mat-icon>
                    Buscar
                  </button>
                </div>
              </form>
              <br>
              <div class="info_cliente" *ngIf="customer.length > 0;">
                <mat-card>
                  <mat-card-content>
                    <div class="row">
                      <div class=" avatar col-lg-4 d-flex justify-content-center">
                        <div class="rounded-circle border d-flex justify-content-center align-items-center m-1"
                            style="width:175px;height:175px"
                          alt="Avatar">
                          <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                          </svg>
                        </div>
                      </div>
                      <div class="col-lg-8" *ngFor="let item of customer">
                        <h2>Información del cliente</h2>
                        <div class="row">
                          <div class="col-lg-12">
                            <label for="cedula">Cédula:</label>
                            <p class="dato">{{item.cedula}}</p> 
                          </div>
                          <div class="col-lg-6">
                            <label for="name">Nombres: </label>
                            <p class="dato">{{item.name}}</p>
                          </div>
                          <div class="col-lg-6">
                            <label for="lastname">Apellidos: </label>
                            <p class="dato">{{item.lastname}}</p>
                          </div>
                          <div class="col-lg-6">
                            <label for="email">Correo electrónico:</label>
                            <p class="dato">{{item.email}}</p>
                          </div>
                          <div class="col-lg-6">
                            <label for="phone">Telefono: </label>
                            <p class="dato">{{item.phone}}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>        
              </div>
              <div *ngIf="customer.length == 0">
                <mat-card class="d-flex p-5">
                  <h2 class="text-center">Consulta un cliente</h2>
                </mat-card>
              </div>
              <div class="tabla">
                <!-- <div class="d-flex justify-content-center">
                  <h2>Productos</h2>
                </div> -->
                <!-- <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        
                  <ng-container matColumnDef="cedula">
                    <th mat-header-cell *matHeaderCellDef> Cedula </th>
                    <td mat-cell *matCellDef="let element"> {{element.cedula}} </td>
                  </ng-container>
                
                  <ng-container matColumnDef="nombres">
                    <th mat-header-cell *matHeaderCellDef> Nombres </th>
                    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                  </ng-container>
                
                  <ng-container matColumnDef="apellidos">
                    <th mat-header-cell *matHeaderCellDef> Apellidos </th>
                    <td mat-cell *matCellDef="let element"> {{element.lastname}} </td>
                  </ng-container>
                
                  <ng-container matColumnDef="correo">
                    <th mat-header-cell *matHeaderCellDef> Correo </th>
                    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                  </ng-container>
        
                  <ng-container matColumnDef="telefono">
                    <th mat-header-cell *matHeaderCellDef> Telefono </th>
                    <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
                  </ng-container>
                
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table> -->             
              </div>
            </div>
          </div>
        </mat-tab>
          <mat-tab label="Por nombre">
            <div class="container mt-5">
              <div class="row">
                <div class="col-md-6 offset-md-3">
                  <div class="form-group">
                    <label for="numeroInput">Ingrese un número:</label>
                    <input type="text" class="form-control" id="numeroInput" pattern="[0-9]{1,10}" maxlength="10" placeholder="Ingrese solo números" required>
                    <div class="invalid-feedback">
                      Por favor, ingrese solo números con un máximo de 10 caracteres.
                    </div>
                  </div>
                </div>
              </div>
              </div>
          </mat-tab>
      </mat-tab-group>
    </mat-card-content>
  </mat-card>
</div>
